<!DOCTYPE html>
<html>
<head>
    <title>South German Bank Credit Risk</title>
</head>
<body>
    <h1>South German Bank Credit Risk</h1>
    <p>A Credit Risk Web App</p>
    <h2>Please Fill The Information</h2>
    <form id="creditRiskForm">
        <label for="duration">Duration:</label>
        <input type="range" id="duration" name="duration" min="3" max="72" value="10">
        <br>

        <label for="amount">Amount:</label>
        <input type="range" id="amount" name="amount" min="200" max="20000" value="1">
        <br>

        <label for="age">Age:</label>
        <input type="range" id="age" name="age" min="18" max="78" value="1">
        <br>

        <label for="status">Status:</label>
        <select id="status" name="status">
            <option value=">= 200 DM / salary for at least 1 year">>= 200 DM / salary for at least 1 year</option>
            <option value="no checking account">no checking account</option>
            <option value="< 0 DM">< 0 DM</option>
            <option value="0<=< 200 DM">0<=< 200 DM</option>
        </select>
        <br>

        <label for="credit_history">Credit History:</label>
        <select id="credit_history" name="credit_history">
            <option value="no credits taken/all credits paid back duly">no credits taken/all credits paid back duly</option>
            <option value="all credits at this bank paid back duly">all credits at this bank paid back duly</option>
            <option value="existing credits paid back duly till now">existing credits paid back duly till now</option>
            <option value="critical account/other credits elsewhere">critical account/other credits elsewhere</option>
            <option value="delay in paying off in the past">delay in paying off in the past</option>
        </select>
        <br>

        <label for="purpose">Purpose:</label>
        <select id="purpose" name="purpose">
            <option value="furniture/equipment">furniture/equipment</option>
            <option value="others">others</option>
            <option value="car (used)">car (used)</option>
            <option value="car (new)">car (new)</option>
            <option value="retraining">retraining</option>
            <option value="repairs">repairs</option>
            <option value="domestic appliances">domestic appliances</option>
            <option value="business">business</option>
            <option value="radio/television">radio/television</option>
            <option value="vacation">vacation</option>
        </select>
        <br>

        <label for="savings">Purpose:</label>
        <select id="savings" name="savings">
            <option value="unknown/no savings account">unknown/no savings account</option>
            <option value=">= 1000 DM">>= 1000 DM</option>
            <option value="<  100 DM "><  100 DM </option>
            <option value="100 <= ... <  500 DM">100 <= ... <  500 DM</option>
            <option value="500 <= ... < 1000 DM">500 <= ... < 1000 DM</option>
        </select>
        <br>

        <label for="employment_duration">Purpose:</label>
        <select id="employment_duration" name="employment_duration">
            <option value="1 <= ... < 4 yrs">1 <= ... < 4 yrs </option>
            <option value=">= 7 yrs">>= 7 yrs</option>
            <option value="4 <= ... < 7 yrs">4 <= ... < 7 yrs</option>
            <option value="< 1 yr">< 1 yr</option>
            <option value="unemployed">unemployed</option>
        </select>
        <br>

        <label for="installment_rate">Purpose:</label>
        <select id="installment_rate" name="installment_rate">
            <option value="< 20 ">< 20 </option>
            <option value="25 <= ... < 35">25 <= ... < 35</option>
            <option value="20 <= ... < 25">20 <= ... < 25</option>
            <option value=">= 35"><>= 35 </option>
        </select>
        <br>

        <label for="personal_status_sex">Purpose:</label>
        <select id="personal_status_sex" name="personal_status_sex">
            <option value="male : married/widowed"><male : married/widowed</option>
            <option value="female : non-single or male : single">female : non-single or male : single</option>
            <option value="female : single">female : single</option>
            <option value="male : divorced/separated">male : divorced/separated</option>
        </select>
        <br>

        <label for="other_debtors">Purpose:</label>
        <select id="other_debtors" name="other_debtors">
            <option value="none">none</option>
            <option value="guarantor">guarantor</option>
            <option value="co-applicant">co-applicant</option>
        </select>
        <br>

        <label for="present_residence">Purpose:</label>
        <select id="present_residence" name="present_residence">
            <option value=">= 7 yrs">>= 7 yrs</option>
            <option value="1 <= ... < 4 yrs">1 <= ... < 4 yrs</option>
            <option value="4 <= ... < 7 yrs">4 <= ... < 7 yrs</option>
            <option value="< 1 yr ">< 1 yr </option>
        </select>
        <br>

        <label for="property">Purpose:</label>
        <select id="property" name="property">
            <option value="building soc. savings agr./life insurance">building soc. savings agr./life insurance</option>
            <option value="unknown / no property">unknown / no property</option>
            <option value="car or other">car or other</option>
            <option value="real estate">real estate</option>
        </select>
        <br>

        <label for="other_installment_plans">Purpose:</label>
        <select id="other_installment_plans" name="other_installment_plans">
            <option value="none">none</option>
            <option value="bank">bank</option>
            <option value="stores">stores</option>
        </select>
        <br>

        <label for="housing">Purpose:</label>
        <select id="housing" name="housing">
            <option value="rent ">rent </option>
            <option value="for free ">for free </option>
            <option value="own">own</option>
        </select>
        <br>

        <label for="number_credits">Purpose:</label>
        <select id="number_credits" name="number_credits">
            <option value="1 ">1 </option>
            <option value="3-Feb">3-Feb</option>
            <option value="5-Apr">5-Apr</option>
            <option value=">= 6">>= 6</option>
        </select>
        <br>

        <label for="job">Purpose:</label>
        <select id="job" name="job">
            <option value="skilled employee/official">skilled employee/official</option>
            <option value="unskilled - resident">unskilled - resident</option>
            <option value="manager/self-empl./highly qualif. employee">manager/self-empl./highly qualif. employee</option>
            <option value="unemployed/unskilled - non-resident">unemployed/unskilled - non-resident</option>
        </select>
        <br>

        <label for="people_liable">Purpose:</label>
        <select id="people_liable" name="people_liable">
            <option value="0 to 2">0 to 2</option>
            <option value="3 or more">3 or more</option>
        </select>
        <br>

        <label for="telephone">Purpose:</label>
        <select id="telephone" name="telephone">
            <option value="no ">no</option>
            <option value="yes (under customer name)">yes (under customer name)</option>
        </select>
        <br>

        <label for="foreign_worker">Purpose:</label>
        <select id="foreign_worker" name="foreign_worker>
            <option value="no">no</option>
            <option value="yes">yes</option>
        </select>
        <br>


        <input type="button" value="Predict" onclick="predictCreditRisk()">
    </form>

    <p id="prediction"></p>

    <script>
        function predictCreditRisk() {
            const form = document.getElementById("creditRiskForm");
            const formData = new FormData(form);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });

            // Perform AJAX request to the Flask backend to get the prediction
            fetch('/predict', {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(result => {
                // Display the prediction result
                const predictionElement = document.getElementById("prediction");
                predictionElement.textContent = `Credit Risk: ${result.prediction}`;
            })
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>
